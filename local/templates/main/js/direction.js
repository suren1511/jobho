var DemptyText="",divStyle='class="station"',inputStyle="",labelStyle="";function DupdateSel(){if(IE){var e=document.getElementById("selectedDirection"),t=e.innerHTML;e.innerHTML=t}}var dcount=0;function DloadAll(){document.body.style.cursor="wait";var e=document.getElementById("Directions");e.innerHTML="";for(var t="",l=0;l<Dts.length;l++)"",t+="<div "+divStyle+">",t+='<input id = "zt_'+Dts[l].id+'" onclick = "if (checked) DaddToSel('+l+"); else DremoveSel("+l+')" type = checkbox '+inputStyle+" "+(Dts[l].checked?"checked":"")+" value = "+Dts[l].id+">&nbsp;",t+="&nbsp;<label for = zt_"+Dts[l].id+" "+labelStyle+"  >"+Dts[l].name+"</label>",t+="</div>";e.innerHTML=t,document.body.style.cursor="default"}function DInitloadAll(){DloadAll();for(var e=0;e<SelDts.length;e++)for(var t=0;t<Dts.length;t++)SelDts[e]==Dts[t].id&&DaddToSel(t);0==dcount&&(document.getElementById("selectedDirection").innerHTML=DemptyText)}var IE=null!=document.all;function DaddToSel(e){var t=document.getElementById("selectedDirection");0==dcount&&(s="<div "+divStyle+">",s+='<input id="clearD" '+inputStyle+' onclick = "DremoveAll(); return false" type = checkbox>',s+="<label for = clearD "+labelStyle+"><i>&nbsp;Очистить список</i></label>",s+="</div>",t.innerHTML=s);var l=document.getElementById("zel"+e);null==l?(s='<div id = "zel'+e+'" '+divStyle+">",s+='<input id = "ztS_'+e+'" '+inputStyle+' onclick="DremoveSel('+e+'); return false" type="checkbox" checked name="d[]" value="'+Dts[e].id+'">&nbsp;',s+="&nbsp;<label for = ztS_"+e+" "+labelStyle+">&nbsp;"+Dts[e].name+"</label>",s+="</div>",t.innerHTML+=s):l.style.display="";var n=document.getElementById("zt_"+Dts[e].id);n&&(n.checked=!0),Dts[e].checked=!0,dcount++}function DremoveSel(e){document.getElementById("zel"+e).style.display="none";var t=document.getElementById("zt_"+Dts[e].id);t&&(t.checked=!1),document.getElementById("ztS_"+e).checked=!1,0==--dcount&&(document.getElementById("selectedDirection").innerHTML=DemptyText),Dts[e].checked=!1,DupdateSel()}function DremoveAll(){for(i=0;i<Dts.length;i++)if(Dts[i].checked){var e=document.getElementById("zt_"+Dts[i].id);e&&(e.checked=!1),Dts[i].checked=!1}dcount=0,document.getElementById("selectedDirection").innerHTML=DemptyText}